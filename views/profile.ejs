<!-- To Show the Profile of User with its username and gmail. It also shows the direct link to
all the questions and answers of the user. -->

<%- include('partials/header'); -%>

<div class="loader hidden">
  <img src="/Rolling.gif" alt="Loading..." />
</div>

<div class="container">
  <div class="profile">
    <div class="profile-header">
      <div class="profile-avatar">
        <img src="/Userimage.png" alt="Profile Avatar" />
      </div>
      <div class="profile-info">
        <h2><i class="fas fa-user"></i> <%= userOP.username %></h2>
        <p><i class="fas fa-envelope"></i> <%= userOP.email %></p>
      </div>
    </div>
    
    <div class="profile-content">
      <div class="profile-section">
        <div class="section-header">
          <h3><i class="fas fa-reply"></i> Answers Posted (<%= userOP.answers.length %>)</h3>
        </div>
        <div class="content-list">
          <% if (userOP.answers.length === 0) { %>
            <div class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>No answers posted yet</p>
            </div>
          <% } else { %>
            <% for (var i=0; i < userOP.answers.length; i++) { %>
              <div class="list-item">
                <a href="/profile/answers/show/<%= userOP.answers[i]._id %>" class="item-link">
                  <span class="item-number">Answer <%= i+1 %></span>
                  <i class="fas fa-external-link-alt"></i>
                </a>
              </div>
            <% } %>
          <% } %>
        </div>
      </div>

      <div class="profile-section">
        <div class="section-header">
          <h3><i class="fas fa-question-circle"></i> Questions Posted (<%= userOP.questions.length %>)</h3>
        </div>
        <div class="content-list">
          <% if (userOP.questions.length === 0) { %>
            <div class="empty-state">
              <i class="fas fa-inbox"></i>
              <p>No questions posted yet</p>
            </div>
          <% } else { %>
            <% for (var i=0; i < userOP.questions.length; i++) { %>
              <div class="list-item">
                <a href="/profile/questions/QuestionDisplay/<%= userOP.questions[i]._id %>" class="item-link">
                  <span class="item-number">Question <%= i+1 %></span>
                  <i class="fas fa-external-link-alt"></i>
                </a>
              </div>
            <% } %>
          <% } %>
        </div>
      </div>
    </div>
  </div>
</div>

<%- include('partials/footer'); -%>